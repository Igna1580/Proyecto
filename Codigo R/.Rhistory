title = "Índice de Felicidad promedio según decil de consumo de alcohol"
) +
theme_minimal() +
cowplot::theme_cowplot() +
scale_x_continuous(breaks = 0:10) +  # Establecer límites y marcas en el eje x
theme(
plot.title = element_text(size = 12),  # Tamaño del título
axis.title.x = element_text(size = 10),  # Tamaño del título del eje x
axis.title.y = element_text(size = 6),  # Tamaño del título del eje y
axis.text.x = element_text(size = 7),  # Tamaño del texto del eje x
axis.text.y = element_text(size = 7)   # Tamaño del texto del eje y
)
# Mostrar el gráfico de línea
print(gráfico_Línea)
gráfico_Línea <- ggplot(promedio_felicidad_por_decil, aes(x = decil_alcohol, y = promedio_felicidad)) +
geom_line() +
labs(
x = "Decil según promedio del consumo anual en litros de alcohol puro per cápita",
y = "Índice de Felicidad promedio",
title = "Índice de Felicidad promedio según decil de consumo de alcohol"
) +
theme_minimal() +
cowplot::theme_cowplot() +
scale_x_continuous(breaks = 0:10) +  # Establecer límites y marcas en el eje x
theme(
plot.title = element_text(size = 12),  # Tamaño del título
axis.title.x = element_text(size = 10),  # Tamaño del título del eje x
axis.title.y = element_text(size = 10),  # Tamaño del título del eje y
axis.text.x = element_text(size = 10),  # Tamaño del texto del eje x
axis.text.y = element_text(size = 10)   # Tamaño del texto del eje y
)
# Mostrar el gráfico de línea
print(gráfico_Línea)
ggsave(filename = "grafico_linea.png", plot = gráfico_Línea, device = "png", width = 21, height = 29.7)
ggsave(filename = "grafico_linea.png", plot = gráfico_Línea, device = "png", width = 5, height = 5)
ggsave(filename = "grafico_linea.png", plot = gráfico_Línea, device = "png", width = 8, height = 5)
ggsave(filename = "grafico_linea.png", plot = gráfico_Línea, device = "png", width = 8, height = 5, dpi = 300)
ggsave(filename = "grafico_linea.png", plot = gráfico_Línea, device = "png", width = 8, height = 5, dpi = 500)
ggsave(filename = "grafico_linea.png", plot = gráfico_Línea, device = "png", width = 6, height = 6, dpi = 500)
ggsave(filename = "grafico_linea.pdf", plot = gráfico_Línea, device = "pdf", width = 8.27, height = 11.69)
View(base_datos)
View(felicidad)
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
# Crear un gráfico de barras horizontales
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Consumo de Alcohol",
y = "País",
title = "Consumo de Alcohol por País (Ordenado de mayor a menor)",
subtitle = "Codificado con Escala de Color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 3, hjust = 0),  # Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 8),
plot.subtitle = element_text(size = 7),# Ajustar el tamaño del título
legend.text = element_text(size = 4),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 4),
axis.text.x.bottom = element_text(size = 8),  # Tamaño del texto del eje x en la parte inferior
axis.text.y.left = element_text(size = 8)) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
# Crear un gráfico de barras horizontales
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Consumo de Alcohol",
y = "País",
title = "Consumo de Alcohol por País (Ordenado de mayor a menor)",
subtitle = "Codificado con Escala de Color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 3, hjust = 0),
axis.title.x = element_text(size = 7),  # Tamaño del título del eje x
axis.title.y = element_text(size = 7),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 8),
plot.subtitle = element_text(size = 7),# Ajustar el tamaño del título
legend.text = element_text(size = 4),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 4)) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
# Crear un gráfico de barras horizontales
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Consumo de Alcohol",
y = "País",
title = "Consumo de Alcohol por País (Ordenado de mayor a menor)",
subtitle = "Codificado con Escala de Color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:10, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 3, hjust = 0),
axis.title.x = element_text(size = 7),  # Tamaño del título del eje x
axis.title.y = element_text(size = 7),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 8),
plot.subtitle = element_text(size = 7),# Ajustar el tamaño del título
legend.text = element_text(size = 4),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 4)) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
# Crear un gráfico de barras horizontales
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Consumo de Alcohol",
y = "País",
title = "Consumo de Alcohol por País (Ordenado de mayor a menor)",
subtitle = "Codificado con Escala de Color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:13, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12","13")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 3, hjust = 0),
axis.title.x = element_text(size = 7),  # Tamaño del título del eje x
axis.title.y = element_text(size = 7),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 8),
plot.subtitle = element_text(size = 7),# Ajustar el tamaño del título
legend.text = element_text(size = 4),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 4)) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
# Gráfico 1: - Consumo de Alcohol por País, codificado con Escala de Color según Índice de Felicidad
# Para aumentar el tamaño del gráfico
options(repr.plot.width = 4, repr.plot.height = 10)
# Ordenar el data frame por consumo de alcohol de menor a mayor
relacion_AlcoholYFelicidad2 <- relacion_AlcoholYFelicidad %>%
arrange(both)
# Crear un gráfico de barras horizontales
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Promedio anual de consumo de alcohol puro per cápita en litros",
y = "",
title = "Consumo de alcohol por país (Ordenado de mayor a menor)",
subtitle = "Codificado con escala de color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:13, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_blank(),  # Quitar etiquetas del eje y
axis.title.x = element_text(size = 7),  # Tamaño del título del eje x
axis.title.y = element_text(size = 7),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 8),
plot.subtitle = element_text(size = 7),# Ajustar el tamaño del título
legend.text = element_text(size = 4),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 4)) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
# Crear un gráfico de barras horizontales
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Promedio anual de consumo de alcohol puro per cápita en litros",
y = "Países",
title = "Consumo de alcohol por país (Ordenado de mayor a menor)",
subtitle = "Codificado con escala de color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:13, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_blank(),  # Quitar etiquetas del eje y
axis.title.x = element_text(size = 7),  # Tamaño del título del eje x
axis.title.y = element_text(size = 7),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 8),
plot.subtitle = element_text(size = 7),# Ajustar el tamaño del título
legend.text = element_text(size = 4),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 4)) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
# Crear un gráfico de barras horizontales
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Promedio anual de consumo de alcohol puro per cápita en litros",
y = "País",
title = "Consumo de alcohol por país (Ordenado de mayor a menor)",
subtitle = "Codificado con escala de color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:13, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12","13")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 3, hjust = 0),
axis.title.x = element_text(size = 7),  # Tamaño del título del eje x
axis.title.y = element_text(size = 7),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 8),
plot.subtitle = element_text(size = 7),# Ajustar el tamaño del título
legend.text = element_text(size = 4),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 4)) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
# Establecer el tamaño de la página en pulgadas (por ejemplo, para una página estándar A4)
pdf("grafico_barras.pdf", width = 8.27, height = 11.69)
# Generar y mostrar el gráfico
print(gráfico_Barras1)
# Generar y mostrar el gráfico
print(gráfico_Barras1)
# Establecer el tamaño de la página en pulgadas (por ejemplo, para una página estándar A4)
pdf("grafico_barras.pdf", width = 8.27, height = 15)
# Generar y mostrar el gráfico
print(gráfico_Barras1)
# Establecer el tamaño de la página en pulgadas (por ejemplo, para una página estándar A4)
pdf("grafico_barras.pdf", width = 8.27, height = 20)
# Generar y mostrar el gráfico
print(gráfico_Barras1)
# Generar y mostrar el gráfico
print(gráfico_Barras1)
# Establecer el tamaño de la página en pulgadas (por ejemplo, para una página estándar A4)
pdf("grafico_barras.pdf", width = 5, height = 20)
# Generar y mostrar el gráfico
print(gráfico_Barras1)
# Generar y mostrar el gráfico
print(gráfico_Barras1)
pdf("grafico_barras.pdf", width = 8.27, height = 11.69)  # Tamaño A4 en pulgadas
print(gráfico_Barras1)
print(gráfico_Barras1)
# Crear un gráfico de barras horizontales
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Promedio anual de consumo de alcohol puro per cápita en litros",
y = "País",
title = "Consumo de alcohol por país (Ordenado de mayor a menor)",
subtitle = "Codificado con escala de color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:13, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12","13")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 3, hjust = 0),
axis.title.x = element_text(size = 7),  # Tamaño del título del eje x
axis.title.y = element_text(size = 7),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 8),
plot.subtitle = element_text(size = 7),# Ajustar el tamaño del título
legend.text = element_text(size = 4),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 4)) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
# Crear un gráfico de barras horizontales
options(repr.plot.width = 4, repr.plot.height = 15)  # Aumenta la altura
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Promedio anual de consumo de alcohol puro per cápita en litros",
y = "País",
title = "Consumo de alcohol por país (Ordenado de mayor a menor)",
subtitle = "Codificado con escala de color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:13, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12","13")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 3, hjust = 0),
axis.title.x = element_text(size = 7),  # Tamaño del título del eje x
axis.title.y = element_text(size = 7),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 8),
plot.subtitle = element_text(size = 7),# Ajustar el tamaño del título
legend.text = element_text(size = 4),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 4)) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
pdf("grafico_barras.pdf", width = 8.27, height = 11.69)  # Tamaño A4 en pulgadas
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
pdf("grafico_barras.pdf", width = 8.27, height = 11.69)  # Tamaño A4 en pulgadas
print(gráfico_Barras1)
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Promedio anual de consumo de alcohol puro per cápita en litros",
y = "País",
title = "Consumo de alcohol por país (Ordenado de mayor a menor)",
subtitle = "Codificado con escala de color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:13, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12","13")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 5, hjust = 0),
axis.title.x = element_text(size = 6),  # Tamaño del título del eje x
axis.title.y = element_text(size = 6),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 10),
plot.subtitle = element_text(size = 8),# Ajustar el tamaño del título
legend.text = element_text(size = 5),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 5)) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
pdf("grafico_barras.pdf", width = 8.27, height = 11.69)  # Tamaño A4 en pulgadas
print(gráfico_Barras1)
print(gráfico_Barras1)
# Gráfico 1: - Consumo de Alcohol por País, codificado con Escala de Color según Índice de Felicidad
# Para aumentar el tamaño del gráfico
options(repr.plot.width = 4, repr.plot.height = 10)
# Ordenar el data frame por consumo de alcohol de menor a mayor
relacion_AlcoholYFelicidad2 <- relacion_AlcoholYFelicidad %>%
arrange(both)
# Crear un gráfico de barras horizontales
options(repr.plot.width = 4, repr.plot.height = 15)  # Aumenta la altura
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Promedio anual de consumo de alcohol puro per cápita en litros",
y = "País",
title = "Consumo de alcohol por país (Ordenado de mayor a menor)",
subtitle = "Codificado con escala de color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:13, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12","13")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 5, hjust = 0, color = "black"),
axis.title.x = element_text(size = 6, color = "black"),  # Tamaño del título del eje x
axis.title.y = element_text(size = 6, color = "black"),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 10, color = "black"),
plot.subtitle = element_text(size = 8, color = "black"),# Ajustar el tamaño del título
legend.text = element_text(size = 5, color = "black"),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 5, color = "black")) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
pdf("grafico_barras.pdf", width = 8.27, height = 11.69)  # Tamaño A4 en pulgadas
print(gráfico_Barras1)
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Promedio anual de consumo de alcohol puro per cápita en litros",
y = "País",
title = "Consumo de alcohol por país (Ordenado de mayor a menor)",
subtitle = "Codificado con escala de color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:13, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12","13")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 6, hjust = 0, color = "black"),
axis.title.x = element_text(size = 7, color = "black"),  # Tamaño del título del eje x
axis.title.y = element_text(size = 7, color = "black"),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 11, color = "black"),
plot.subtitle = element_text(size = 9, color = "black"),# Ajustar el tamaño del título
legend.text = element_text(size = 6, color = "black"),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 6, color = "black")) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
pdf("grafico_barras.pdf", width = 8.27, height = 11.69)  # Tamaño A4 en pulgadas
print(gráfico_Barras1)
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Promedio anual de consumo de alcohol puro per cápita en litros",
y = "País",
title = "Consumo de alcohol por país (Ordenado de mayor a menor)",
subtitle = "Codificado con escala de color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:13, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12","13")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 7, hjust = 0, color = "black"),
axis.text.x = element_text(size = 7, hjust = 0, color = "black"),
axis.title.x = element_text(size = 8, color = "black"),  # Tamaño del título del eje x
axis.title.y = element_text(size = 8, color = "black"),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 11, color = "black"),
plot.subtitle = element_text(size = 11, color = "black"),# Ajustar el tamaño del título
legend.text = element_text(size = 7, color = "black"),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 7, color = "black")) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6))  # Ajustar el tamaño del color key
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
pdf("grafico_barras.pdf", width = 8.27, height = 11.69)  # Tamaño A4 en pulgadas
print(gráfico_Barras1)
# Gráfico 1: - Consumo de Alcohol por País, codificado con Escala de Color según Índice de Felicidad
# Para aumentar el tamaño del gráfico
options(repr.plot.width = 4, repr.plot.height = 10)
# Ordenar el data frame por consumo de alcohol de menor a mayor
relacion_AlcoholYFelicidad2 <- relacion_AlcoholYFelicidad %>%
arrange(both)
# Crear un gráfico de barras horizontales
options(repr.plot.width = 4, repr.plot.height = 15)  # Aumenta la altura
gráfico_Barras1 <- ggplot(relacion_AlcoholYFelicidad2, aes(x = both, y = reorder(country, both), fill = ladder_score)) +
geom_bar(stat = "identity") +
labs(
x = "Promedio anual de consumo de alcohol puro per cápita en litros",
y = "País",
title = "Consumo de alcohol por país (Ordenado de mayor a menor)",
subtitle = "Codificado con escala de color según Índice de Felicidad",
fill = "Índice de Felicidad"
) +
scale_x_continuous(breaks = 0:13, labels = c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12","13")) +
scale_fill_gradient(low = "red", high = "green") +  # Escala de colores de rojo a verde
theme_minimal() + cowplot::theme_cowplot() + # Aplicar un tema minimalista
theme(axis.text.y = element_text(size = 7, hjust = 0, color = "black"),
axis.text.x = element_text(size = 7, hjust = 0, color = "black"),
axis.title.x = element_text(size = 10, color = "black"),  # Tamaño del título del eje x
axis.title.y = element_text(size = 10, color = "black"),# Ajustar el tamaño y alineación del texto en el eje y
plot.title = element_text(size = 11, color = "black"),
plot.subtitle = element_text(size = 11, color = "black"),# Ajustar el tamaño del título
legend.text = element_text(size = 10, color = "black"),  # Ajustar el tamaño del texto en el color key
legend.title = element_text(size = 10, color = "black")) +  # Ajustar el tamaño del título del color key
guides(fill = guide_colorbar(barwidth = 2, barheight = 6, title.position = "top"))  # Ajustar el tamaño del color key y su posición
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
pdf("grafico_barras.pdf", width = 8.27, height = 11.69)  # Tamaño A4 en pulgadas
print(gráfico_Barras1)
pdf("grafico_barras.pdf", width = 8.27, height = 11.69)  # Tamaño A4 en pulgadas
print(gráfico_Barras1)
print(gráfico_Barras1)
# Crear el gráfico
grafico_dispersion <- ggplot(relacion_AlcoholYFelicidad, aes(x = both, y = ladder_score)) +
geom_point() + cowplot::theme_cowplot() +  # Gráfico de dispersión
geom_smooth(method = "lm", se = FALSE, color = "blue") +  # Línea de regresión
labs(
x = "Consumo de Alcohol",
y = "Índice de Felicidad",
title = "Gráfico de Dispersión con Línea de Regresión"
)
pdf("grafico_barras.pdf", width = 8.27, height = 11.69)  # Tamaño A4 en pulgadas
print(gráfico_Barras1)
print(gráfico_Barras1)
# Guardar el gráfico llamado "consumo_MenorAMayor_color"
consumo_MenorAMayor_color <- gráfico_Barras1
# Mostrar el gráfico
print(consumo_MenorAMayor_color)
ggsave("grafico_barras.pdf", width = 8.27, height = 11.69, dpi = 300)
ggsave("grafico_barras.pdf", width = 8.27, height = 11.69, dpi = 500)
Nombres <- c("NA", "Both", "Male", "Female", "Ladder Score", "Standard Error of Ladder Score",
"Upperwhisker", "Lowerwhisker", "Logged GDP per Capita", "Social Support",
"Healthy Life Expectancy", "Freedom to Make Life Choices", "Generosity",
"Perception of Corruption", "Ladder Score in Dystopia",
"Explained by Logged GDP per Capita", "Explained by Social Support",
"Explained by Healthy Life Expectancy", "Explained by Freedom to Make Life Choices",
"Explained by Generosity", "Explained by Perception of Corruption","Dystopia Residual" )
Minimo <- 0
Maximo <- 0
Rango <- 0
Media <- 0
Mediana <- 0
PrimerCuartil <- 0
TercerCuartil <- 0
RangoIntercuartil <- 0
DesviacionStandar <- 0
Varianza <- 0
CoeficienteVariacion <- 0
for(i in 2:22){
Minimo <- append(Minimo, min(base_datos[,i]))
Maximo <- append(Maximo, max(base_datos[,i]))
Rango <- append(Rango, max(base_datos[,i]) - min(base_datos[,i]))
Media <- append(Media, mean(base_datos[,i]))
Mediana <- append(Mediana, median(base_datos[,i]))
PrimerCuartil <- append(PrimerCuartil, quantile(base_datos[,i], 0.25))
TercerCuartil <- append(TercerCuartil, quantile(base_datos[,i], 0.75))
RangoIntercuartil <- append(RangoIntercuartil, IQR(base_datos[,i]))
DesviacionStandar <- append(DesviacionStandar, sd(base_datos[,i]))
Varianza <- append(Varianza, var(base_datos[,i]))
CoeficienteVariacion <- append(CoeficienteVariacion, sd(base_datos[,i])/
mean(base_datos[,i]))
}
AnalisisD <- data.frame(Nombres, Minimo, Maximo, Rango, Media, PrimerCuartil,
Mediana, TercerCuartil, RangoIntercuartil, DesviacionStandar,
Varianza, CoeficienteVariacion)
View(AnalisisD)
